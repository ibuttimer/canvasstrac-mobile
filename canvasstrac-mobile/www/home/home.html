<ion-view view-title="Home">
  <ion-content>
    <div ng-if="!user.authenticated">
      <!-- include any notices-->
      <div ng-include="'notices/notices.list.html'"></div>

      <div class="card">
        <div class="item item-thumbnail-left item-text-wrap">
          <img src="img/logo.png" width="125" height="125">
          <h2>CanvassTrac</h2>
        </div>
      </div>
      <button class="button button-block button-positive icon-left ion-log-in" ng-click="toggleLeftSideMenu()">
        Login
      </button>
    </div>
    <div ng-include="'login/login.progress.html'"></div>
    <div ng-if="user.authenticated">
      <div ng-if="user.person.firstname">
        <div class="card">
          <div class="item item-text-wrap">
            <h2>Welcome {{user.person.firstname}}</h2>
          </div>
        </div>
      </div>
      <div ng-if="!inprogress.active">
        <div ng-if="showCanvassDetails">
          <div class="card">
            <div class="item item-text-wrap">
              <h2>Election: {{activeElection.name}}</h2>
              <h2>Survey: {{activeSurvey.name}}</h2>
              <h3>Your Assignment: {{getAssignedText(assignmentCnt)}}</h3>
            </div>

            <canvas ng-if="assignmentCnt" id="pie" class="chart chart-pie"
                    chart-data="myData" chart-labels="chartLabels" chart-options="chartOptions"></canvas>
          </div>
          <div class="card">
            <div class="item item-text-wrap">
              <h3>Canvass Total Assignment: {{getAssignedText(assignedAddr.count)}}</h3>
            </div>

            <canvas ng-if="assignedAddr.count" id="pie" class="chart chart-pie"
                    chart-data="overallData" chart-labels="chartLabels" chart-options="chartOptions"></canvas>
          </div>
        </div>
        <div ng-if="!showCanvassDetails">
          <div class="card">
            <div ng-if="!inprogress.active" class="item item-text-wrap">
              <h3>You currently have no canvass assignment.</h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>

